class ModalHandler{constructor(){this.modal=null}async open(e,l=null){!this.modal&&e&&(this.modal=document.querySelector(`#${e}`),this.modal.style.animation="popupOpenAnimation 0.5s forwards",this.modal.style.display="flex",document.body.style.overflow="hidden",l&&l())}async close(e=null){this.modal&&(this.modal.style.animation="popupCloseAnimation 0.5s forwards",document.body.style.overflow="auto",setTimeout((()=>{this.modal.style.display="none",e&&e(),this.modal=null}),500))}getModal(){return this.modal}}window.addEventListener("load",(()=>{const e=new ModalHandler;document.querySelectorAll(".modal-opener").forEach((l=>{l.addEventListener("click",(()=>e.open(l.getAttribute("modal-target"))))})),document.addEventListener("openModal",(l=>{l.detail.callback?e.open(l.detail.target,l.detail.callback):e.open(l.detail.target)})),document.querySelectorAll(".modal-closer").forEach((l=>{l.addEventListener("click",(()=>{e.getModal().contains(l)&&e.close()}))})),document.addEventListener("closeCurrentModal",(l=>{l.detail?e.close(l.detail.callback):e.close()}))}));